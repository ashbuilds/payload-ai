{"version":3,"sources":["../../../src/fields/ComposeField/ComposeField.tsx"],"sourcesContent":["'use client'\n\nimport type { ClientField } from 'payload'\n\nimport { FieldDescription, useDocumentInfo } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { FieldProvider } from '../../providers/FieldProvider/FieldProvider.js'\nimport { useInstructions } from '../../providers/InstructionsProvider/useInstructions.js'\nimport { Compose } from '../../ui/Compose/Compose.js'\n\ntype ComposeFieldProps = {\n  [key: string]: any\n  field: ClientField\n  path?: string\n  schemaPath?: string\n}\n\nexport const ComposeField = (props: ComposeFieldProps) => {\n  const { collectionSlug } = useDocumentInfo()\n\n  const finalSchemaPath =\n    props?.schemaPath ??\n    (collectionSlug ? `${collectionSlug}.${props?.path ?? ''}` : (props?.path ?? ''))\n\n  const {\n    id: instructionId,\n    disabled,\n    hasInstructions,\n    isConfigAllowed,\n  } = useInstructions({\n    schemaPath: finalSchemaPath,\n  })\n\n  return (\n    <FieldProvider\n      context={{\n        type: props?.field.type,\n        path: props?.path ?? '',\n        schemaPath: finalSchemaPath,\n      }}\n    >\n      {hasInstructions && instructionId && !disabled ? (\n        <Compose\n          descriptionProps={{\n            ...props,\n            field: props?.field,\n            path: props?.path ?? '',\n            schemaPath: finalSchemaPath,\n          }}\n          instructionId={instructionId}\n          isConfigAllowed={isConfigAllowed}\n        />\n      ) : null}\n      {/*Render the incoming description field*/}\n      <div>\n        <FieldDescription path={props?.path ?? ''} {...props} />\n      </div>\n    </FieldProvider>\n  )\n}\n"],"names":["FieldDescription","useDocumentInfo","React","FieldProvider","useInstructions","Compose","ComposeField","props","collectionSlug","finalSchemaPath","schemaPath","path","id","instructionId","disabled","hasInstructions","isConfigAllowed","context","type","field","descriptionProps","div"],"mappings":"AAAA;;AAIA,SAASA,gBAAgB,EAAEC,eAAe,QAAQ,iBAAgB;AAClE,OAAOC,WAAW,QAAO;AAEzB,SAASC,aAAa,QAAQ,iDAAgD;AAC9E,SAASC,eAAe,QAAQ,0DAAyD;AACzF,SAASC,OAAO,QAAQ,8BAA6B;AASrD,OAAO,MAAMC,eAAe,CAACC;IAC3B,MAAM,EAAEC,cAAc,EAAE,GAAGP;IAE3B,MAAMQ,kBACJF,OAAOG,cACNF,CAAAA,iBAAiB,GAAGA,eAAe,CAAC,EAAED,OAAOI,QAAQ,IAAI,GAAIJ,OAAOI,QAAQ,EAAE;IAEjF,MAAM,EACJC,IAAIC,aAAa,EACjBC,QAAQ,EACRC,eAAe,EACfC,eAAe,EAChB,GAAGZ,gBAAgB;QAClBM,YAAYD;IACd;IAEA,qBACE,MAACN;QACCc,SAAS;YACPC,MAAMX,OAAOY,MAAMD;YACnBP,MAAMJ,OAAOI,QAAQ;YACrBD,YAAYD;QACd;;YAECM,mBAAmBF,iBAAiB,CAACC,yBACpC,KAACT;gBACCe,kBAAkB;oBAChB,GAAGb,KAAK;oBACRY,OAAOZ,OAAOY;oBACdR,MAAMJ,OAAOI,QAAQ;oBACrBD,YAAYD;gBACd;gBACAI,eAAeA;gBACfG,iBAAiBA;iBAEjB;0BAEJ,KAACK;0BACC,cAAA,KAACrB;oBAAiBW,MAAMJ,OAAOI,QAAQ;oBAAK,GAAGJ,KAAK;;;;;AAI5D,EAAC"}