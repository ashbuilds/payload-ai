{"version":3,"sources":["../../../src/providers/InstructionsProvider/index.tsx"],"sourcesContent":["'use client'\n\nimport React, { createContext, useContext, useEffect, useState } from 'react'\n\nconst initialContext = {\n  instructions: undefined,\n}\n\nconst InstructionsContext = createContext(initialContext)\n\nexport const InstructionsProvider = ({ children }: { children: React.ReactNode }) => {\n  const [instructions, setInstructionsState] = useState({})\n\n  useEffect(() => {\n    fetch('/api/globals/ai-plugin__instructions_map')\n      .then((res) => {\n        res.json().then((data) => {\n          setInstructionsState(data.map)\n        })\n      })\n      .catch((err) => {\n        console.error('err:', err)\n      })\n  }, [])\n\n  return (\n    <InstructionsContext.Provider value={{ instructions }}>{children}</InstructionsContext.Provider>\n  )\n}\n\nexport const useInstructions = ({ path }) => {\n  const context = useContext(InstructionsContext)\n\n  return { id: context.instructions[path], map: context.instructions }\n}\n"],"names":["React","createContext","useContext","useEffect","useState","initialContext","instructions","undefined","InstructionsContext","InstructionsProvider","children","setInstructionsState","fetch","then","res","json","data","map","catch","err","console","error","Provider","value","useInstructions","path","context","id"],"mappings":"AAAA;;AAEA,OAAOA,SAASC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,QAAO;AAE7E,MAAMC,iBAAiB;IACrBC,cAAcC;AAChB;AAEA,MAAMC,oCAAsBP,cAAcI;AAE1C,OAAO,MAAMI,uBAAuB,CAAC,EAAEC,QAAQ,EAAiC;IAC9E,MAAM,CAACJ,cAAcK,qBAAqB,GAAGP,SAAS,CAAC;IAEvDD,UAAU;QACRS,MAAM,4CACHC,IAAI,CAAC,CAACC;YACLA,IAAIC,IAAI,GAAGF,IAAI,CAAC,CAACG;gBACfL,qBAAqBK,KAAKC,GAAG;YAC/B;QACF,GACCC,KAAK,CAAC,CAACC;YACNC,QAAQC,KAAK,CAAC,QAAQF;QACxB;IACJ,GAAG,EAAE;IAEL,qBACE,KAACX,oBAAoBc,QAAQ;QAACC,OAAO;YAAEjB;QAAa;kBAAII;;AAE5D,EAAC;AAED,OAAO,MAAMc,kBAAkB,CAAC,EAAEC,IAAI,EAAE;IACtC,MAAMC,UAAUxB,WAAWM;IAE3B,OAAO;QAAEmB,IAAID,QAAQpB,YAAY,CAACmB,KAAK;QAAER,KAAKS,QAAQpB,YAAY;IAAC;AACrE,EAAC"}