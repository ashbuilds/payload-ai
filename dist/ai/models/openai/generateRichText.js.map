{"version":3,"sources":["../../../../src/ai/models/openai/generateRichText.ts"],"sourcesContent":["import { openai } from '@ai-sdk/openai'\nimport { streamObject } from 'ai'\n\nimport { exampleOutput } from '../example.js'\n\nexport const generateRichText = async (text: string, options: any) => {\n  const streamResult = await streamObject({\n    model: openai(options.model),\n    prompt: text,\n    schema: options.editorSchema,\n    system: `${options.system}\n\n      RULES:\n      - Must be original and unique content.\n      - Must follow given guidelines and instructions.\n      - Always use given tool\n      - Must follow rules of sample output object\n      - Must be valid JSON with no undefined or null values\n\n      SAMPLE OUTPUT OBJECT:\n      ${JSON.stringify(exampleOutput)}\n      \n      LAYOUT:\n      ${options.layout}\n      `,\n  })\n  return streamResult.toTextStreamResponse()\n}\n\nexport interface SerializedLexicalNode {\n  type: string\n  version: number\n}\n\nexport type Spread<T1, T2> = Omit<T2, keyof T1> & T1\nexport type SerializedElementNode<T extends SerializedLexicalNode = SerializedLexicalNode> = Spread<\n  {\n    children: T[]\n\n    direction: 'ltr' | 'rtl' | null\n\n    format: ElementFormatType\n\n    indent: number\n  },\n  SerializedLexicalNode\n>\n\nexport type SerializedRootNode<T extends SerializedLexicalNode = SerializedLexicalNode> =\n  SerializedElementNode<T>\n\nexport type ElementFormatType = '' | 'center' | 'end' | 'justify' | 'left' | 'right' | 'start'\n"],"names":["openai","streamObject","exampleOutput","generateRichText","text","options","streamResult","model","prompt","schema","editorSchema","system","JSON","stringify","layout","toTextStreamResponse"],"mappings":"AAAA,SAASA,MAAM,QAAQ,iBAAgB;AACvC,SAASC,YAAY,QAAQ,KAAI;AAEjC,SAASC,aAAa,QAAQ,gBAAe;AAE7C,OAAO,MAAMC,mBAAmB,OAAOC,MAAcC;IACnD,MAAMC,eAAe,MAAML,aAAa;QACtCM,OAAOP,OAAOK,QAAQE,KAAK;QAC3BC,QAAQJ;QACRK,QAAQJ,QAAQK,YAAY;QAC5BC,QAAQ,CAAC,EAAEN,QAAQM,MAAM,CAAC;;;;;;;;;;MAUxB,EAAEC,KAAKC,SAAS,CAACX,eAAe;;;MAGhC,EAAEG,QAAQS,MAAM,CAAC;MACjB,CAAC;IACL;IACA,OAAOR,aAAaS,oBAAoB;AAC1C,EAAC"}