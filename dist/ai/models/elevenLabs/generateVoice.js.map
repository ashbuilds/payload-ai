{"version":3,"sources":["../../../../src/ai/models/elevenLabs/generateVoice.ts"],"sourcesContent":["import { ElevenLabsClient } from 'elevenlabs'\n\ntype ElevenLabsTextToSpeechOptions = {\n  voice_id: string\n}\n\nexport const generateVoice = async (text: string, options: ElevenLabsTextToSpeechOptions) => {\n  const elevenLabs = new ElevenLabsClient({\n    apiKey: process.env.ELEVENLABS_API_KEY,\n  })\n  const response = (await elevenLabs.textToSpeech.convertWithTimstamps(options.voice_id, {\n    ...options,\n    text,\n  })) as {\n    alignment: string[]\n    audio_base64: string\n  }\n  if (response?.audio_base64) {\n    const audioBuffer = Buffer.from(response.audio_base64, 'base64')\n    // const transcript = convertToTranscript(mp3Audio.alignment)\n\n    return {\n      alignment: response.alignment,\n      buffer: audioBuffer,\n    }\n  }\n}\n"],"names":["ElevenLabsClient","generateVoice","text","options","elevenLabs","apiKey","process","env","ELEVENLABS_API_KEY","response","textToSpeech","convertWithTimstamps","voice_id","audio_base64","audioBuffer","Buffer","from","alignment","buffer"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,aAAY;AAM7C,OAAO,MAAMC,gBAAgB,OAAOC,MAAcC;IAChD,MAAMC,aAAa,IAAIJ,iBAAiB;QACtCK,QAAQC,QAAQC,GAAG,CAACC,kBAAkB;IACxC;IACA,MAAMC,WAAY,MAAML,WAAWM,YAAY,CAACC,oBAAoB,CAACR,QAAQS,QAAQ,EAAE;QACrF,GAAGT,OAAO;QACVD;IACF;IAIA,IAAIO,UAAUI,cAAc;QAC1B,MAAMC,cAAcC,OAAOC,IAAI,CAACP,SAASI,YAAY,EAAE;QACvD,6DAA6D;QAE7D,OAAO;YACLI,WAAWR,SAASQ,SAAS;YAC7BC,QAAQJ;QACV;IACF;AACF,EAAC"}