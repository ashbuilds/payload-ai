{"version":3,"sources":["../../src/utilities/getFieldBySchemaPath.ts"],"sourcesContent":["import type { ClientCollectionConfig, ClientFieldConfig, CollectionConfig, Field } from 'payload'\n\nexport const getFieldBySchemaPath = (\n  collectionConfig: ClientCollectionConfig | CollectionConfig,\n  schemaPath: string, // e.g., \"posts.content\"\n): ClientFieldConfig | Field | null => {\n  const pathParts = schemaPath.split('.')\n  const targetFieldName = pathParts[pathParts.length - 1]\n\n  const findField = (fields, remainingPath: string[]): Field | null => {\n    for (const field of fields) {\n      if (remainingPath.length === 1 && field.name === targetFieldName) {\n        return field\n      }\n\n      if (field.type === 'group' && field.fields) {\n        const result = findField(field.fields, remainingPath.slice(1))\n        if (result) return result\n      }\n\n      if (field.type === 'array' && field.fields) {\n        const result = findField(field.fields, remainingPath.slice(1))\n        if (result) return result\n      }\n\n      if (field.type === 'tabs') {\n        for (const tab of field.tabs) {\n          const result = findField(tab.fields, remainingPath)\n          if (result) return result\n        }\n      }\n\n      if (field.type === 'blocks') {\n        for (const block of field.blocks) {\n          if (block.slug === remainingPath[0]) {\n            const result = findField(block.fields, remainingPath.slice(1))\n            if (result) return result\n          }\n        }\n      }\n    }\n\n    return null\n  }\n\n  return findField(collectionConfig.fields, pathParts.slice(1))\n}\n"],"names":["getFieldBySchemaPath","collectionConfig","schemaPath","pathParts","split","targetFieldName","length","findField","fields","remainingPath","field","name","type","result","slice","tab","tabs","block","blocks","slug"],"mappings":"AAEA,OAAO,MAAMA,uBAAuB,CAClCC,kBACAC;IAEA,MAAMC,YAAYD,WAAWE,KAAK,CAAC;IACnC,MAAMC,kBAAkBF,SAAS,CAACA,UAAUG,MAAM,GAAG,EAAE;IAEvD,MAAMC,YAAY,CAACC,QAAQC;QACzB,KAAK,MAAMC,SAASF,OAAQ;YAC1B,IAAIC,cAAcH,MAAM,KAAK,KAAKI,MAAMC,IAAI,KAAKN,iBAAiB;gBAChE,OAAOK;YACT;YAEA,IAAIA,MAAME,IAAI,KAAK,WAAWF,MAAMF,MAAM,EAAE;gBAC1C,MAAMK,SAASN,UAAUG,MAAMF,MAAM,EAAEC,cAAcK,KAAK,CAAC;gBAC3D,IAAID,QAAQ,OAAOA;YACrB;YAEA,IAAIH,MAAME,IAAI,KAAK,WAAWF,MAAMF,MAAM,EAAE;gBAC1C,MAAMK,SAASN,UAAUG,MAAMF,MAAM,EAAEC,cAAcK,KAAK,CAAC;gBAC3D,IAAID,QAAQ,OAAOA;YACrB;YAEA,IAAIH,MAAME,IAAI,KAAK,QAAQ;gBACzB,KAAK,MAAMG,OAAOL,MAAMM,IAAI,CAAE;oBAC5B,MAAMH,SAASN,UAAUQ,IAAIP,MAAM,EAAEC;oBACrC,IAAII,QAAQ,OAAOA;gBACrB;YACF;YAEA,IAAIH,MAAME,IAAI,KAAK,UAAU;gBAC3B,KAAK,MAAMK,SAASP,MAAMQ,MAAM,CAAE;oBAChC,IAAID,MAAME,IAAI,KAAKV,aAAa,CAAC,EAAE,EAAE;wBACnC,MAAMI,SAASN,UAAUU,MAAMT,MAAM,EAAEC,cAAcK,KAAK,CAAC;wBAC3D,IAAID,QAAQ,OAAOA;oBACrB;gBACF;YACF;QACF;QAEA,OAAO;IACT;IAEA,OAAON,UAAUN,iBAAiBO,MAAM,EAAEL,UAAUW,KAAK,CAAC;AAC5D,EAAC"}